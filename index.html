<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Intelligence OS v3</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { background: #020617; color: white; font-family: ui-sans-serif, system-ui; overflow: hidden; }
        .glass { background: rgba(15, 23, 42, 0.75); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .app-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); cursor: pointer; border-radius: 2rem; }
        .app-card:hover { transform: translateY(-5px); background: rgba(59, 130, 246, 0.1); border-color: #3b82f6; }
        @keyframes shake { 0%, 100% { transform: translate(0,0); } 25% { transform: translate(-4px,-4px); } 75% { transform: translate(4px,4px); } }
        .vibrate { animation: shake 0.1s infinite; }
        .hide-scroll::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;

        const App = () => {
            const [view, setView] = useState('hub');
            const [activeApp, setActiveApp] = useState(null);
            const [vibrate, setVibrate] = useState(false);
            
            // App States
            const [transIn, setTransIn] = useState('');
            const [transOut, setTransOut] = useState('');
            const [score, setScore] = useState(0); // For Mini Game

            const speak = (text, p = 1) => {
                window.speechSynthesis.cancel();
                const m = new SpeechSynthesisUtterance(text);
                m.pitch = p;
                window.speechSynthesis.speak(m);
            };

            const handleUniversalInput = (val) => {
                const norm = val.replace(/\s/g, '').toLowerCase();
                if (norm === '67') {
                    setVibrate(true); speak("6 7", 1.2);
                    setTimeout(() => setVibrate(false), 800);
                } else if (norm === '10+9=21') {
                    setVibrate(true); speak("You dumb", 0.5);
                    setTimeout(() => setVibrate(false), 1000);
                }
            };

            const renderModule = () => {
                switch(activeApp?.id) {
                    case 'stock':
                        return (
                            <div className="p-6 space-y-4 animate-in">
                                <div className="glass p-6 rounded-3xl text-center">
                                    <p className="text-amber-500 font-bold text-[10px] uppercase tracking-widest mb-2">Gold Spot</p>
                                    <h2 className="text-4xl font-black">$2,342.10</h2>
                                </div>
                                <div className="glass p-6 rounded-3xl text-center">
                                    <p className="text-orange-500 font-bold text-[10px] uppercase tracking-widest mb-2">Bitcoin</p>
                                    <h2 className="text-4xl font-black">$98,412.00</h2>
                                </div>
                            </div>
                        );
                    case 'trans':
                        return (
                            <div className="p-4 flex flex-col gap-4 h-full">
                                <textarea className="w-full h-1/3 glass p-4 rounded-2xl outline-none resize-none" placeholder="Enter text..." onChange={(e) => {setTransIn(e.target.value); setTransOut("Translating...")}} />
                                <div className="flex justify-center"><span className="text-2xl">‚¨áÔ∏è</span></div>
                                <div className="w-full h-1/3 glass p-4 rounded-2xl text-blue-400 font-bold">
                                    {transIn ? `[Translated]: ${transIn} (Beta)` : "Result will appear here..."}
                                </div>
                            </div>
                        );
                    case 'game':
                        return (
                            <div className="flex flex-col items-center justify-center h-full p-6 text-center">
                                <h2 className="text-2xl font-black mb-4">REFLEX TEST</h2>
                                <p className="mb-8">Score: {score}</p>
                                <button 
                                    className="w-32 h-32 bg-red-600 rounded-full font-black animate-bounce shadow-2xl"
                                    onClick={() => setScore(s => s + 1)}
                                >
                                    HIT ME
                                </button>
                                <button onClick={() => setScore(0)} className="mt-10 text-[10px] uppercase opacity-50 tracking-widest">Reset Score</button>
                            </div>
                        );
                    case 'uni':
                        return (
                            <div className="p-4 h-full flex flex-col">
                                <div className="flex-1 glass rounded-2xl mb-4 p-4 text-sm overflow-y-auto">
                                    <p className="text-blue-500 font-bold mb-2 uppercase text-[10px]">Universal Console</p>
                                    <p>System Online. Try secret codes...</p>
                                </div>
                                <input 
                                    className="w-full p-4 glass rounded-xl outline-none border border-white/10" 
                                    placeholder="Enter command..." 
                                    onKeyPress={(e) => e.key === 'Enter' && (handleUniversalInput(e.target.value), e.target.value = '')}
                                />
                            </div>
                        );
                    default:
                        return <div className="p-10 text-center opacity-50 uppercase font-black">Module Under Construction</div>;
                }
            };

            return (
                <div className={`h-screen flex flex-col transition-all duration-75 ${vibrate ? 'vibrate' : ''}`}>
                    {activeApp ? (
                        <div className="flex-1 flex flex-col">
                            <header className="p-4 glass flex justify-between items-center">
                                <button onClick={() => setActiveApp(null)} className="text-blue-500 font-black text-xs uppercase tracking-widest">‚Üê Home</button>
                                <span className="font-black uppercase text-xs tracking-tighter">{activeApp.name}</span>
                                <div className="w-10"></div>
                            </header>
                            <div className="flex-1 overflow-y-auto">{renderModule()}</div>
                        </div>
                    ) : (
                        <div className="p-6 md:p-12 overflow-y-auto hide-scroll">
                            <header className="text-center mb-12">
                                <h1 className="text-4xl font-black uppercase tracking-tighter">Intelligence OS</h1>
                                <p className="text-blue-500 font-bold text-[10px] tracking-[0.5em] mt-2 uppercase">Multitask Console</p>
                            </header>
                            
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto">
                                {[
                                    {id: 'uni', name: 'Universal AI', icon: 'üß†', color: 'bg-blue-600'},
                                    {id: 'stock', name: 'Stock Pulse', icon: 'üìà', color: 'bg-emerald-600'},
                                    {id: 'trans', name: 'Translator', icon: 'üåê', color: 'bg-indigo-600'},
                                    {id: 'game', name: 'Reflex Game', icon: 'üéÆ', color: 'bg-red-600'},
                                    {id: 'math', name: 'Calculator', icon: 'üî¢', color: 'bg-orange-600'},
                                    {id: 'draw', name: 'Sketch Pad', icon: 'üé®', color: 'bg-pink-600'},
                                    {id: 'weather', name: 'Weather', icon: '‚òÅÔ∏è', color: 'bg-cyan-600'},
                                    {id: 'clock', name: 'World Time', icon: '‚åö', color: 'bg-slate-600'},
                                    {id: 'med', name: 'Med-AI', icon: '‚öïÔ∏è', color: 'bg-teal-600'},
                                    {id: 'gym', name: 'Gym Coach', icon: 'üèãÔ∏è', color: 'bg-lime-600'},
                                    {id: 'code', name: 'Code Lab', icon: 'üíª', color: 'bg-purple-600'},
                                    {id: 'chef', name: 'Chef Mode', icon: 'üç≥', color: 'bg-amber-600'}
                                ].map(app => (
                                    <div key={app.id} onClick={() => setActiveApp(app)} className="app-card glass p-6 flex flex-col items-center">
                                        <div className={`w-12 h-12 ${app.color} rounded-xl mb-4 flex items-center justify-center text-xl shadow-lg`}>{app.icon}</div>
                                        <p className="font-black uppercase text-[10px] tracking-widest">{app.name}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}
                    <footer className="p-4 text-center opacity-30 pointer-events-none">
                        <p className="text-[9px] font-black uppercase tracking-[0.6em]">Secure Multi-Module OS</p>
                    </footer>
                </div>
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
